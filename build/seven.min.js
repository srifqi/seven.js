//seven.js - @author srifqi
var SEVEN=SEVEN||{REVISION:"5"};SEVEN.Data={'0':[1,1,1,1,1,1,0],'1':[0,1,1,0,0,0,0],'2':[1,1,0,1,1,0,1],'3':[1,1,1,1,0,0,1],'4':[0,1,1,0,0,1,1],'5':[1,0,1,1,0,1,1],'6':[1,0,1,1,1,1,1],'7':[1,1,1,0,0,0,0],'8':[1,1,1,1,1,1,1],'9':[1,1,1,1,0,1,1],'a':[1,1,1,1,1,0,1],'b':[0,0,1,1,1,1,1],'c':[0,0,0,1,1,0,1],'d':[0,1,1,1,1,0,1],'e':[1,1,0,1,1,1,1],'f':[1,0,0,0,1,1,1],'g':[1,1,1,1,0,1,1],'h':[0,0,1,0,1,1,1],'i':[0,0,0,0,1,0,0],'j':[0,1,1,1,0,0,0],'k':[0,1,0,1,1,1,1],'l':[0,0,0,0,1,1,0],'m':[1,0,1,0,1,0,1],'n':[0,0,1,0,1,0,1],'o':[0,0,1,1,1,0,1],'p':[1,1,0,0,1,1,1],'q':[1,1,1,0,0,1,1],'r':[0,0,0,0,1,0,1],'s':[1,0,1,1,0,1,1],'t':[0,0,0,1,1,1,1],'u':[0,0,1,1,1,0,0],'v':[0,1,0,1,0,1,0],'w':[1,0,1,1,1,0,0],'x':[0,1,0,0,1,0,1],'y':[0,1,1,1,0,1,1],'z':[1,1,0,1,1,0,0],'A':[1,1,1,0,1,1,1],'B':[1,1,1,1,1,1,1],'C':[1,0,0,1,1,1,0],'D':[1,1,1,1,1,1,0],'E':[1,0,0,1,1,1,1],'F':[1,0,0,0,1,1,1],'G':[1,0,1,1,1,1,1],'H':[0,1,1,0,1,1,1],'I':[0,1,1,0,0,0,0],'J':[0,1,1,1,0,0,0],'K':[0,1,0,1,1,1,1],'L':[0,0,0,1,1,1,0],'M':[1,0,1,0,1,0,1],'N':[1,1,1,0,1,1,0],'O':[1,1,1,1,1,1,0],'P':[1,1,0,0,1,1,1],'Q':[1,1,1,0,0,1,1],'R':[0,0,0,0,1,0,1],'S':[1,0,1,1,0,1,1],'T':[0,0,0,1,1,1,1],'U':[0,1,1,1,1,1,0],'V':[0,1,0,1,0,1,0],'W':[1,0,1,1,1,0,0],'X':[0,1,0,0,1,0,1],'Y':[0,1,1,1,0,1,1],'Z':[1,1,0,1,1,0,0],' ':[0,0,0,0,0,0,0]};SEVEN.Letter=function(c,r){if((c===""||c===undefined)&&this.characterData===undefined){console.error("SEVEN.Letter: Empty input");this.c=" ";this.characterData=[0,0,0,0,0,0,0];}if(c.length>1){console.log("Please don't use SEVEN.Letter for many characters. Use SEVEN.Word instead");return new SEVEN.Word(c);}this.c=c;this.characterData=SEVEN.Data[c];this.id=SEVEN.LetterIdCount++;this.name="";if(c==="k"||c==="m"||c==="v"||c==="w"||c==="x"||c==="z"||c==="K"||c==="M"||c==="V"||c==="W"||c==="X"||c==="Z"||c==="N"){console.warn("SEVEN.Letter: the character "+c+" (id:"+this.id+") hard to read letter");}else if(c==="g"||c==="s"||c==="B"||c==="D"||c==="G"||c==="O"||c==="S"){console.warn("SEVEN.Letter: the c "+c+" (id:"+this.id+") will rendered as number");}};SEVEN.Letter.prototype={constructor:SEVEN.Letter,update:function(){if(SEVEN.Data[this.c]===undefined){console.error("SEVEN.Letter: the c "+c+" (id:"+this.id+") can't be constructed");this.characterData=[0,0,0,0,0,0,0];}else{this.characterData=SEVEN.Data[this.c];}},setCharacter:function(c){this.c=c;this.update();},getText:function(){var c=this.characterData,text=" "+((c[0]===1)?"___ \n":"    \n")+((c[5]===1)?"|":" ")+"   "+((c[1]===1)?"|\n":" \n")+((c[5]===1)?"|":" ")+((c[6]===1)?"___":"   ")+((c[1]===1)?"|\n":" \n")+((c[4]===1)?"|":" ")+"   "+((c[2]===1)?"|\n":" \n")+((c[4]===1)?"|":" ")+((c[3]===1)?"___":"   ")+((c[2]===1)?"|\n":" \n");return text;},getHTML:function(e,d){var e=e||1,d=d||"block",c=c;function s(n){var y="";for(i=0;i<n;i++){y+="&nbsp;";}return y;}var _text=((e===1) ? "<pre style='font-family:monospace;display:"+d+";'>" : "")+s(1)+((c[0]===1)?"___"+s(1)+"<br/>":s(4)+"<br/>")+((c[5]===1)?"|":s(1))+s(3)+((c[1]===1)?"|<br/>":s(1)+"<br/>")+((c[5]===1)?"|":s(1))+((c[6]===1)?"___":s(3))+((c[1]===1)?"|<br/>":s(1)+"<br/>")+((c[4]===1)?"|":s(1))+s(3)+((c[2]===1)?"|<br/>":s(1)+"<br/>")+((c[4]===1)?"|":s(1))+((c[3]===1)?"___":s(3))+((c[2]===1)?"|<br/>":s(1)+"<br/>")+((e===1)?"</pre>":"");return _text;}};SEVEN.LetterIdCount=0;SEVEN.Word=function(w){this.id=SEVEN.WordIdCount++;this.name="";this.word=w;this.letter=[];this.update();};SEVEN.Word.prototype={constuctor:SEVEN.Word,update:function(){var word=String(this.word);for(i=0;i<word.length;i++){this.letter.push(new SEVEN.Letter(word[i]));}},set:function(w){this.word=w||" ";this.update();},getText:function(){var _text=[[],[],[],[],[]],i=p=0;for(var u=0;u<this.letter.length;u++){var l=this.letter[u].characterData;function s(n){var y="";for(i=0;i<n;i++){y+=" ";}return y;}_text[0].push(s(1)+((l[0]===1)?"___"+s(1):s(4)));_text[1].push(((l[5]===1)?"|":s(1))+s(3)+((l[1]===1)?"|":s(1)));_text[2].push(((l[5]===1)?"|":s(1))+((l[6]===1)?"___":s(3))+((l[1]===1)?"|":s(1)));_text[3].push(((l[4]===1)?"|":s(1))+s(3)+((l[2]===1)?"|":s(1)));_text[4].push(((l[4]===1)?"|":s(1))+((l[3]===1)?"___":s(3))+((l[2]===1)?"|":s(1)));}for(var p=0;p<5;p++){_text[p].push("\n");}var text="";for(var i=0;i<5;i++){text+=_text[i].join(" ");}return text;},getHTML: function() {var _text=[[],[],[],[],[]],i=u=r=p=0;for(var u=0;u<this.letter.length;u++){var l=this.letter[u].characterData;function s(n){var y="";for(i=0;i<n;i++){y+="&nbsp;";}return y;}_text[0].push(s(1)+((l[0]===1)?"___"+s(1):s(4)));_text[1].push(((l[5]===1)?"|":s(1))+s(3)+((l[1]===1)?"|":s(1)));_text[2].push(((l[5]===1)?"|":s(1))+((l[6]===1)?"___":s(3))+((l[1]===1)?"|":s(1)));_text[3].push(((l[4]===1)?"|":s(1))+s(3)+((l[2]===1)?"|":s(1)));_text[4].push(((l[4]===1)?"|":s(1))+((l[3]===1)?"___":s(3))+((l[2]===1)?"|":s(1)));}for(var r=0;r<5;r++){_text[r].push("<br/>");}var text="<pre style='font-family:monospace;'>";for(var i=0;i<5;i++){text+=_text[i].join(" ");}return text+"</pre>";}};SEVEN.WordIdCount=0;SEVEN.Color=function(r,g,b){this.r=r;this.g=g;this.b=b;this.update();};SEVEN.Color.prototype={constructor:SEVEN.Color,update:function(){this.rgbText="rgb("+this.r+","+this.g+","+this.b+")";},set:function(r,g,b){this.r=r;this.g=g;this.b=b;this.update();}};SEVEN.CanvasRenderer=function(p){console.log("SEVEN.CanvasRenderer",SEVEN.REVISION);var p=p||{};this.autoClear=true;this.clearColor=new SEVEN.Color(255,255,255);this.scale=p.scale||12;this.color=p.color||new SEVEN.Color(255,0,0);this.domElement=(p.canvas!==undefined)?p.canvas:document.createElement("canvas");this.setSize=function(w,h,u){var v=this.domElement;v.width=w;v.height=h;if(u==true){v.style.width=w;v.style.height=h;}};this.clear=function(){var T=this.domElement,C=T.getContext("2d");C.fillStyle=this.clearColor.rgbText;_context.fillRect(0,0,T.width,T.height);};this.render=function(o){if(o instanceof SEVEN.Letter===false && o instanceof SEVEN.Word===false){console.error("SEVEN.CanvasRenderer.render: Object is not instance of SEVEN.Letter or SEVEN.Word");return false;}var b=o,c=this.color,a=this.domElement,l=this.scale,T=2*l,R=3*l;var C=a.getContext("2d");C.fillStyle=c.rgbText;function H(x,y){C.fillRect(x*l,y*l,T,l);}function V(x,y){C.fillRect(x*l,y*l,l,R);}function drawLetter(C,P){var P=P||0;if(C[0]===1){H(P+1,0);}if(C[1]===1){V(P+3,1);}if(C[2]===1){V(P+3,5);}if(C[3]===1){H(P+1,8);}if(C[4]===1){V(P,5);}if(C[5]===1){V(P,1);}if(C[6]===1){H(P+1,4);}}if(b instanceof SEVEN.Letter===true){drawLetter(b.letter.characterData);}else if(b instanceof SEVEN.Word===true){var O=0;for(var i=0;i<b.letter.length;i++){drawLetter(b.letter[i].characterData,O);O+=4+Math.floor(l/Math.round(l/2));}}}};SEVEN.SVGRenderer=function(P){console.log("SEVEN.SVGRenderer",SEVEN.REVISION);var P=P||{};this.autoClear=true;this.scale=P.scale||12;this.color=P.color||new SEVEN.Color(255,0,0);this.domElement=(P.svg!==undefined)?P.svg:document.createElementNS('http://www.w3.org/2000/svg','svg');this.setSize=function(w,h,S){var V=this.domElement;V.w=w;V.h=h;if(S==true){V.style.w=w;V.style.h=h;}};this.clear=function(){while(this.domElement.childNodes.length>0){this.domElement.removeChild(this.domElement.childNodes[0]);}};this.render=function(O){if(O instanceof SEVEN.Letter===false&&O instanceof SEVEN.Word===false){console.error("SEVEN.CanvasRenderer.render: Object is not instance of SEVEN.Letter or SEVEN.Word");return false;}if(this.autoClear===true){this.clear();}var o=O,C=this.color,s=this.domElement,c=this.scale,N,p=[],Y=0;var q=2*c,Q=3*c;function K(x,y){R(x*c,y*c,q,c);}function L(x,y){R(x*c,y*c,c,Q);}function R(x,y,w,h){E(x,y,x+w,y,x+w,y+h,x,y+h);}function E(x1,y1,x2,y2,x3,y3,x4,y4){N=W(Y++);N.setAttribute('d','M '+x1+' '+y1+' L '+x2+' '+y2+' L '+x3+','+y3+' L '+x4+','+y4+' z');N.setAttribute('style','fill:'+C.rgbText+';');s.appendChild(N);}function W(id){if(p[id]==null){p[id]=document.createElementNS('http://www.w3.org/2000/svg','path');return p[id];}return p[id];}function A(B,X){var X=X||0;if(B[0]===1){K(X+1,0);}if(B[1]===1){L(X+3,1);}if(B[2]===1){L(X+3,5);}if(B[3]===1){K(X+1,8);}if(B[4]===1){L(X,5);}if(B[5]===1){L(X,1);}if(B[6]===1){K(X+1,4);}}if(o instanceof SEVEN.Letter===true){A(o.letter.characterData);}else if(o instanceof SEVEN.Word===true){var a=0;for(var i=0;i<o.letter.length;i++){A(o.letter[i].characterData,a);a+=4+Math.floor(c/Math.round(c/2));}}}};
